name: Get First Author on PR

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  get-first-author:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 0  # Fetch all history including tags

      - name: Check Recent Commits
        run: |
          echo "Recent commits in the last 7 days:"
          git log --since="7 days ago"

      - name: Get First Author
        run: |
          FIRST_AUTHOR=$(git log --since="7 days ago" --pretty=format:"%an" | sort | uniq -c | sort -nr | head -n 1)
          echo "First author in the last 7 days: $FIRST_AUTHOR"
